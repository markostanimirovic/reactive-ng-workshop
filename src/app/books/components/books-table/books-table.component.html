<div class="books-table-wrapper">
  <mat-spinner
    *ngIf="isLoading; else booksTable"
    class="books-table-spinner"
    color="primary"
  ></mat-spinner>

  <ng-template #booksTable>
    <table mat-table [dataSource]="books">
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>Title</th>
        <td mat-cell *matCellDef="let book">{{ book.title }}</td>
      </ng-container>

      <ng-container matColumnDef="author">
        <th mat-header-cell *matHeaderCellDef>Author</th>
        <td mat-cell *matCellDef="let book">{{ book.author | authorName }}</td>
      </ng-container>

      <ng-container matColumnDef="genre">
        <th mat-header-cell *matHeaderCellDef>Genre</th>
        <td mat-cell *matCellDef="let book">{{ book.genre }}</td>
      </ng-container>

      <ng-container matColumnDef="publishedDate">
        <th mat-header-cell *matHeaderCellDef>Published Date</th>
        <td mat-cell *matCellDef="let book">{{ book.publishedDate | date }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </ng-template>
</div>
